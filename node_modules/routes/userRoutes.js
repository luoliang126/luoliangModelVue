/**
 * Created by ly on 2017/5/25.
 */

var express = require('express');
var userService = require("../service/userService");  //引入userService模块

//获取到路由对象
var router = express.Router(); //因为是路由，需要对外广播出去，所以需要路由，其他层则不需要

//注册
router.get("/regist",function(req,res){
    userService.regist(req.query.username,req.query.password,function(data){
        res.send(data);
    })
})

//通过用户名和密码的方式登录
router.get("/login", function(req, res) {
    //console.log(req.query.username);
    userService.userNameAndPassword(req.query.username, req.query.password, function(data) {
        if(data == 1){
            res.send(true);
        }else{
            res.send(false);
        }
    })
});

//将对象router暴露，使其能在其他模块中调用
module.exports = router;